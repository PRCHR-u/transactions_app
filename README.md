# Проект для анализа транзакций

Этот проект предназначен для анализа транзакций, хранящихся в Excel-файле. Он предоставляет веб-страницы, сервисы и отчеты для удобного просмотра и анализа данных.



## Установка и запуск

1. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/yourusername/transactions_app.git
    cd transactions_app
    ```

2. Создайте виртуальное окружение и установите зависимости:
    ```bash
    poetry install
    ```

3. Создайте файл `.env` на основе шаблона `.env_template` и добавьте ваши API ключи.

4. Запустите проект:
    ```bash
    poetry run python src/main.py
    ```

## Функциональность

### Веб-страницы

- **Главная**: Отображает приветствие, данные по картам, топ-5 транзакций, курсы валют и цены на акции.
- **События**: Отображает расходы и поступления по категориям, курсы валют и цены на акции.

### Сервисы

- **Выгодные категории повышенного кешбэка**: Анализирует, какие категории были наиболее выгодными для выбора в качестве категорий повышенного кешбэка.
- **Инвесткопилка**: Рассчитывает сумму, которую можно отложить на "Инвесткопилку".
- **Простой поиск**: Поиск транзакций по описанию или категории.
- **Поиск по телефонным номерам**: Поиск транзакций, содержащих мобильные номера.
- **Поиск переводов физическим лицам**: Поиск транзакций, связанных с переводами физических лиц.

### Отчеты

- **Траты по категории**: Траты по заданной категории за последние три месяца.
- **Траты по дням недели**: Средние траты в каждый из дней недели за последние три месяца.
- **Траты в рабочий/выходной день**: Средние траты в рабочий и выходной день за последние три месяца.

## Примеры JSON-ответов

### Главная страница

```json
{
  "greeting": "Добрый день",
  "cards": [
    {
      "last_digits": "5814",
      "total_spent": 1262.00,
      "cashback": 12.62
    },
    {
      "last_digits": "7512",
      "total_spent": 7.94,
      "cashback": 0.08
    }
  ],
  "top_transactions": [
    {
      "date": "21.12.2021",
      "amount": 1198.23,
      "category": "Переводы",
      "description": "Перевод Кредитная карта. ТП 10.2 RUR"
    },
    {
      "date": "20.12.2021",
      "amount": 829.00,
      "category": "Супермаркеты",
      "description": "Лента"
    },
    {
      "date": "20.12.2021",
      "amount": 421.00,
      "category": "Различные товары",
      "description": "Ozon.ru"
    },
    {
      "date": "16.12.2021",
      "amount": -14216.42,
      "category": "ЖКХ",
      "description": "ЖКУ Квартира"
    },
    {
      "date": "16.12.2021",
      "amount": 453.00,
      "category": "Бонусы",
      "description": "Кешбэк за обычные покупки"
    }
  ],
  "currency_rates": [
    {
      "currency": "USD",
      "rate": 73.21
    },
    {
      "currency": "EUR",
      "rate": 87.08
    }
  ],
  "stock_prices": [
    {
      "stock": "AAPL",
      "price": 150.12
    },
    {
      "stock": "AMZN",
      "price": 3173.18
    },
    {
      "stock": "GOOGL",
      "price": 2742.39
    },
    {
      "stock": "MSFT",
      "price": 296.71
    },
    {
      "stock": "TSLA",
      "price": 1007.08
    }
  ]
}

#ПОСЛЕЛНИЙ КОММИТ ДЛЯ ПЕРЕВОДА В ВЕТКУ РАЗРАБОТКИ